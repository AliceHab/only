"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[275],{275:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(848),r=[{id:1,label:"Кино",from:2003,to:2018},{id:2,label:"Литература",from:2001,to:2022},{id:3,label:"Театр",from:2015,to:2020},{id:4,label:"Наука",from:2007,to:2022},{id:5,label:"Музыка",from:2015,to:2018},{id:6,label:"Спорт",from:1999,to:2024}],a=[{id:1,themeId:1,title:'Премьера фильма "Аватар"',description:"Премьера культового фильма в 3D формате.",date:"2003-12-18"},{id:2,themeId:1,title:"Фестиваль кино",description:"Ежегодное событие, объединяющее любителей кино.",date:"2016-06-10"},{id:3,themeId:1,title:"Премьера нового фильма",description:"Дебют долгожданного фильма мирового уровня.",date:"2017-03-25"},{id:4,themeId:1,title:"Награждение на кинофестивале",description:"Церемония награждения лучших представителей киноиндустрии.",date:"2018-09-05"},{id:5,themeId:2,title:"Выход нового романа",description:"Новый роман известного писателя завоёвывает критиков.",date:"2001-05-10"},{id:6,themeId:2,title:"Литературный вечер",description:"Встреча с авторами и обсуждение новинок литературы.",date:"2016-11-15"},{id:7,themeId:2,title:"Презентация книги",description:"Официальное представление новой книги в литературном салоне.",date:"2017-08-20"},{id:8,themeId:2,title:"Литературный конкурс",description:"Соревнование молодых талантов в мире литературы.",date:"2022-04-30"},{id:9,themeId:3,title:"Премьера театральной постановки",description:"Дебют новой постановки, получившей восторженные отзывы.",date:"2015-09-15"},{id:10,themeId:3,title:"Фестиваль театра",description:"Многочисленные спектакли и постановки в рамках фестиваля.",date:"2016-07-22"},{id:11,themeId:3,title:"Новогодняя постановка",description:"Праздничное представление с участием звезд театра.",date:"2017-12-31"},{id:12,themeId:3,title:"Дебютный спектакль",description:"Первое выступление молодой театральной труппы.",date:"2020-10-10"},{id:13,themeId:4,title:"Научная конференция",description:"Международное собрание ученых для обмена идеями.",date:"2007-03-20"},{id:14,themeId:4,title:"Выставка технологий",description:"Демонстрация последних достижений в области технологий.",date:"2016-05-05"},{id:15,themeId:4,title:"Научный симпозиум",description:"Форум для обсуждения актуальных вопросов науки.",date:"2017-02-14"},{id:16,themeId:4,title:"Презентация инноваций",description:"Представление новых технологических решений и разработок.",date:"2022-11-11"},{id:17,themeId:5,title:"Концерт популярного артиста",description:"Выступление знаменитого музыканта на большой сцене.",date:"2015-08-01"},{id:18,themeId:5,title:"Музыкальный фестиваль",description:"Фестиваль, объединяющий поклонников различных музыкальных жанров.",date:"2016-04-18"},{id:19,themeId:5,title:"Премьера альбома",description:"Релиз нового альбома с грандиозной презентацией.",date:"2017-09-09"},{id:20,themeId:5,title:"Выступление в прямом эфире",description:"Прямой эфир концерта с участием популярных исполнителей.",date:"2018-06-15"},{id:21,themeId:6,title:"Финал чемпионата",description:"Кульминационное событие спортивного сезона.",date:"1999-10-30"},{id:22,themeId:6,title:"Марафон города",description:"Городской марафон с участием сотен спортсменов.",date:"2016-03-12"},{id:23,themeId:6,title:"Дебют спортсмена",description:"Первое выступление нового таланта в мире спорта.",date:"2017-07-07"},{id:24,themeId:6,title:"Открытие спортивного комплекса",description:"Торжественное открытие современного спортивного комплекса.",date:"2024-01-20"}],s=function(){return new Promise((function(e){setTimeout((function(){e(r)}),300)}))},l=function(e){var t=e.themeId,n=e.from,i=e.to;return new Promise((function(e){setTimeout((function(){var r=a.filter((function(e){var r=new Date(e.date).getFullYear();return e.themeId===t&&r>=n&&r<=i}));e(r)}),300)}))},o=n(253);const c=function(){return(0,i.jsx)(o.S,{fetchThemes:s,fetchEvents:l})}},253:(e,t,n)=>{n.d(t,{S:()=>C});var i=n(848),r=n(540),a=n(485),s=n.n(a),l=n(325),o=n(636),c="NGPzaMOp",d="mqrJJ5YS",f=function(){return f=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},f.apply(this,arguments)},h=function(e){var t=e.className,n=e.children,r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["className","children"]);return(0,i.jsx)("svg",f({"aria-hidden":!0,className:s()("oc92a2BD",t),focusable:"false",viewBox:"0 0 20 20"},r,{children:n}))},u=function(){return u=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)},m=function(e){var t=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,[]);return(0,i.jsx)(h,u({},t,{children:(0,i.jsx)("path",{fill:"none",d:"M6 1L15 10L6 19"})}))},p=function(){return p=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},p.apply(this,arguments)},v=function(e){var t=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,[]);return(0,i.jsx)(h,p({},t,{children:(0,i.jsx)("path",{fill:"none",d:"M16 1L5 10L16 19"})}))},j=function(e){var t=e.eventsData;if(!t||0===t.length)return null;var n=(0,r.useState)(0),a=n[0],s=n[1];return(0,i.jsxs)(l.RC,{navigation:{nextEl:".".concat(c),prevEl:".".concat(d),disabledClass:"LHXmBA1e"},modules:[o.Vx],slidesPerView:"auto",breakpoints:{0:{slidesOffsetBefore:0,slidesOffsetAfter:0,spaceBetween:25},1450:{slidesOffsetBefore:78,slidesOffsetAfter:78,spaceBetween:85}},className:"yVwqzze9",onSlideChange:function(e){s(e.activeIndex)},children:[t.map((function(e,t){return(0,i.jsxs)(l.qr,{className:"".concat("CAm54CuC"," ").concat(t===a?"hHUm10di":""),children:[(0,i.jsx)("p",{className:"EMRc0S57",children:new Date(e.date).getFullYear()}),(0,i.jsx)("p",{className:"VsfJlexR",children:e.description})]},e.id)})),(0,i.jsx)("div",{className:c,children:(0,i.jsx)(m,{width:"5",height:"10",stroke:"var(--iris-100)"})}),(0,i.jsx)("div",{className:d,children:(0,i.jsx)(v,{width:"6",height:"12",stroke:"var(--iris-100)"})})]})},x="vIHC3kZb",b="EgOXv5QL",g="fV0COdNC",O=function(e){var t,n,r=e.activeIndex,a=e.themesDataLength,l=e.handleClickPagination,o=e.handleClickCircle;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:s()("lq33COKo"),children:[(0,i.jsxs)("p",{className:s()("MharC84Q"),children:["0",r+1,"/0",a]}),(0,i.jsxs)("div",{className:s()("lUX5iNRz"),children:[(0,i.jsx)("button",{className:s()(b,(t={},t[x]=0===r,t)),disabled:0===r,onClick:function(){return l("prev")},children:(0,i.jsx)(v,{className:g,stroke:"rgba(var(--black-blue)"})}),(0,i.jsx)("button",{className:s()(b,(n={},n[x]=r===a-1,n)),disabled:r===a-1,onClick:function(){return l("next")},children:(0,i.jsx)(m,{className:g,stroke:"rgba(var(--black-blue)"})})]})]}),(0,i.jsx)("div",{className:s()("DBdFVl5J"),children:Array.from({length:a}).map((function(e,t){var n;return(0,i.jsx)("button",{className:s()("pQNmahRn",(n={},n.LHHOTp97=t===r,n)),disabled:t===r,onClick:function(){return o(t)}},t)}))})]})},y=function(e){var t=e.activeIndex,n=e.themesData,r=e.rotation,a=e.handleClickCircle,l=e.currentDateLeft,o=e.currentDateRight,c=e.dateLeftRef,d=e.dateRightRef;return(0,i.jsxs)("div",{className:s()("cpieovkk"),children:[(0,i.jsx)("div",{className:s()("xH9TbmWp"),style:{transform:"rotate(".concat(r,"deg)"),transition:"transform 0.5s ease-out"},children:n.map((function(e,l){var o,c=2*Math.PI*l/n.length,d=265+265*Math.cos(c),f=265+265*Math.sin(c);return(0,i.jsxs)("button",{className:s()("XEPFpGrF",(o={},o.AxqO225N=l===t,o)),onClick:function(){return a(l)},style:{position:"absolute",left:"".concat(d,"px"),top:"".concat(f,"px"),transform:"translate(-50%, -50%) rotate(".concat(-r,"deg)")},children:[(0,i.jsx)("p",{className:s()("Q43vh7za"),children:e.id}),(0,i.jsx)("p",{className:s()("czc3nZf9"),children:e.label})]},e.id)}))}),(0,i.jsxs)("div",{className:s()("vaxgkjBg"),children:[(0,i.jsx)("p",{className:s()("WnQR_jJI"),ref:c,children:l}),(0,i.jsx)("p",{className:s()("cok5jllX"),ref:d,children:o})]})]})},I=n(880),N=function(e,t,n){var i={num:e};I.os.to(i,{num:t,duration:.3,ease:"power1.out",onUpdate:function(){n.current&&(n.current.textContent=Math.floor(i.num).toString())}})},C=function(e){var t=e.fetchThemes,n=e.fetchEvents,a=(0,r.useState)(0),l=a[0],o=a[1],c=(0,r.useState)(0),d=c[0],f=c[1],h=(0,r.useState)([]),u=h[0],m=h[1],p=(0,r.useState)([]),v=p[0],x=p[1],b=(0,r.useState)(null),g=b[0],I=b[1],C=(0,r.useState)(null),w=C[0],k=C[1],P=(0,r.useState)(null),S=P[0],D=P[1],R=(0,r.useRef)(null),L=(0,r.useRef)(null),E=u.length>0?360/u.length:360;(0,r.useEffect)((function(){t().then((function(e){m(e),e&&e.length>0&&(I(e[e.length-1].id),k(e[e.length-1].from),D(e[e.length-1].to),f(e.length-1),n({themeId:e[e.length-1].id,from:e[e.length-1].from,to:e[e.length-1].to}).then((function(e){x(e)})))}))}),[]);var A=function(e){if(u&&0!==u.length){var t=u[e],i=(E*e-30+l)%360;i<0&&(i+=360);var r=270-i;r>180?r-=360:r<-180&&(r+=360),o((function(e){return e+r})),f(e),I(t.id),N(w,t.from,R),N(S,t.to,L),k(t.from),D(t.to),x([]),n({themeId:t.id,from:t.from,to:t.to}).then((function(e){x(e)}))}},B=u.find((function(e){return e.id===g})),M=B?B.label:"";return(0,i.jsxs)("section",{className:s()("mHvqqAAi"),children:[(0,i.jsx)("div",{className:s()("pstIvCIa")}),(0,i.jsxs)("div",{className:s()("o6vCpGfN"),children:[(0,i.jsxs)("h2",{className:s()("xPX_Cn7J"),children:[" ","Исторические\nдаты"]}),(0,i.jsx)(y,{activeIndex:d,themesData:u,rotation:l,handleClickCircle:A,currentDateLeft:w,currentDateRight:S,dateLeftRef:R,dateRightRef:L}),(0,i.jsx)(O,{activeIndex:d,themesDataLength:u.length,handleClickPagination:function(e){if(u&&0!==u.length){var t=d+("prev"===e?-1:1);if(!(t<0||t>=u.length)){var i=u[t],r=(E*t-30+l)%360;r<0&&(r+=360);var a=270-r;a>180?a-=360:a<-180&&(a+=360),o((function(e){return e+a})),f(t),I(i.id),N(w,i.from,R),N(S,i.to,L),k(i.from),D(i.to),x([]),n({themeId:i.id,from:i.from,to:i.to}).then((function(e){x(e)}))}}},handleClickCircle:A}),(0,i.jsx)("div",{className:s()("A9OXjyma")}),(0,i.jsx)("div",{className:s()("wsyrz1fx")}),(0,i.jsxs)("div",{className:s()("upn26d1c"),children:[(0,i.jsx)("p",{className:"L8KTnPrD",children:M}),(0,i.jsx)(j,{eventsData:v})]})]})]})}}}]);