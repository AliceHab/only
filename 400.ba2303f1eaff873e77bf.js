"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[400],{400:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(848),i=[{id:1,label:"Кино",from:2003,to:2018},{id:2,label:"Литература",from:2001,to:2022},{id:3,label:"Театр",from:2015,to:2020},{id:4,label:"Наука",from:2007,to:2022}],a=[{id:1,themeId:1,title:'Премьера фильма "Аватар"',description:"Премьера культового фильма в 3D формате.",date:"2003-12-18"},{id:2,themeId:1,title:"Фестиваль кино",description:"Ежегодное событие, объединяющее любителей кино.",date:"2016-06-10"},{id:3,themeId:1,title:"Премьера нового фильма",description:"Дебют долгожданного фильма мирового уровня.",date:"2017-03-25"},{id:4,themeId:1,title:"Награждение на кинофестивале",description:"Церемония награждения лучших представителей киноиндустрии.",date:"2018-09-05"},{id:5,themeId:2,title:"Выход нового романа",description:"Новый роман известного писателя завоёвывает критиков.",date:"2001-05-10"},{id:6,themeId:2,title:"Литературный вечер",description:"Встреча с авторами и обсуждение новинок литературы.",date:"2016-11-15"},{id:7,themeId:2,title:"Презентация книги",description:"Официальное представление новой книги в литературном салоне.",date:"2017-08-20"},{id:8,themeId:2,title:"Литературный конкурс",description:"Соревнование молодых талантов в мире литературы.",date:"2022-04-30"},{id:9,themeId:3,title:"Премьера театральной постановки",description:"Дебют новой постановки, получившей восторженные отзывы.",date:"2015-09-15"},{id:10,themeId:3,title:"Фестиваль театра",description:"Многочисленные спектакли и постановки в рамках фестиваля.",date:"2016-07-22"},{id:11,themeId:3,title:"Новогодняя постановка",description:"Праздничное представление с участием звезд театра.",date:"2017-12-31"},{id:12,themeId:3,title:"Дебютный спектакль",description:"Первое выступление молодой театральной труппы.",date:"2020-10-10"},{id:13,themeId:4,title:"Научная конференция",description:"Международное собрание ученых для обмена идеями.",date:"2007-03-20"},{id:14,themeId:4,title:"Выставка технологий",description:"Демонстрация последних достижений в области технологий.",date:"2016-05-05"},{id:15,themeId:4,title:"Научный симпозиум",description:"Форум для обсуждения актуальных вопросов науки.",date:"2017-02-14"},{id:16,themeId:4,title:"Презентация инноваций",description:"Представление новых технологических решений и разработок.",date:"2022-11-11"}],s=function(){return new Promise((function(e){setTimeout((function(){e(i)}),300)}))},l=function(e){var t=e.themeId,n=e.from,r=e.to;return new Promise((function(e){setTimeout((function(){var i=a.filter((function(e){var i=new Date(e.date).getFullYear();return e.themeId===t&&i>=n&&i<=r}));e(i)}),300)}))},o=n(253);const c=function(){return(0,r.jsx)(o.S,{fetchThemes:s,fetchEvents:l})}},253:(e,t,n)=>{n.d(t,{S:()=>C});var r=n(848),i=n(540),a=n(485),s=n.n(a),l=n(325),o=n(636),c="NGPzaMOp",d="mqrJJ5YS",f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)},u=function(e){var t=e.className,n=e.children,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["className","children"]);return(0,r.jsx)("svg",f({"aria-hidden":!0,className:s()("oc92a2BD",t),focusable:"false",viewBox:"0 0 20 20"},i,{children:n}))},h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)},m=function(e){var t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,[]);return(0,r.jsx)(u,h({},t,{children:(0,r.jsx)("path",{fill:"none",d:"M6 1L15 10L6 19"})}))},p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)},v=function(e){var t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,[]);return(0,r.jsx)(u,p({},t,{children:(0,r.jsx)("path",{fill:"none",d:"M16 1L5 10L16 19"})}))},j=function(e){var t=e.eventsData;if(!t||0===t.length)return null;var n=(0,i.useState)(0),a=n[0],s=n[1];return(0,r.jsxs)(l.RC,{navigation:{nextEl:".".concat(c),prevEl:".".concat(d),disabledClass:"LHXmBA1e"},modules:[o.Vx],slidesPerView:"auto",breakpoints:{0:{slidesOffsetBefore:0,slidesOffsetAfter:0,spaceBetween:25},1450:{slidesOffsetBefore:78,slidesOffsetAfter:78,spaceBetween:85}},className:"yVwqzze9",onSlideChange:function(e){s(e.activeIndex)},children:[t.map((function(e,t){return(0,r.jsxs)(l.qr,{className:"".concat("CAm54CuC"," ").concat(t===a?"hHUm10di":""),children:[(0,r.jsx)("p",{className:"EMRc0S57",children:new Date(e.date).getFullYear()}),(0,r.jsx)("p",{className:"VsfJlexR",children:e.description})]},e.id)})),(0,r.jsx)("div",{className:c,children:(0,r.jsx)(m,{width:"5",height:"10",stroke:"var(--iris-100)"})}),(0,r.jsx)("div",{className:d,children:(0,r.jsx)(v,{width:"6",height:"12",stroke:"var(--iris-100)"})})]})},x="vIHC3kZb",g="EgOXv5QL",b="fV0COdNC",O=function(e){var t,n,i=e.activeIndex,a=e.themesDataLength,l=e.handleClickPagination,o=e.handleClickCircle;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:s()("lq33COKo"),children:[(0,r.jsxs)("p",{className:s()("MharC84Q"),children:["0",i+1,"/0",a]}),(0,r.jsxs)("div",{className:s()("lUX5iNRz"),children:[(0,r.jsx)("button",{className:s()(g,(t={},t[x]=0===i,t)),disabled:0===i,onClick:function(){return l("prev")},children:(0,r.jsx)(v,{className:b,stroke:"rgba(var(--black-blue)"})}),(0,r.jsx)("button",{className:s()(g,(n={},n[x]=i===a-1,n)),disabled:i===a-1,onClick:function(){return l("next")},children:(0,r.jsx)(m,{className:b,stroke:"rgba(var(--black-blue)"})})]})]}),(0,r.jsx)("div",{className:s()("DBdFVl5J"),children:Array.from({length:a}).map((function(e,t){var n;return(0,r.jsx)("button",{className:s()("pQNmahRn",(n={},n.LHHOTp97=t===i,n)),disabled:t===i,onClick:function(){return o(t)}},t)}))})]})},y=function(e){var t=e.activeIndex,n=e.themesData,i=e.rotation,a=e.handleClickCircle,l=e.currentDateLeft,o=e.currentDateRight,c=e.dateLeftRef,d=e.dateRightRef;return(0,r.jsxs)("div",{className:s()("cpieovkk"),children:[(0,r.jsx)("div",{className:s()("xH9TbmWp"),style:{transform:"rotate(".concat(i,"deg)"),transition:"transform 0.5s ease-out"},children:n.map((function(e,l){var o,c=2*Math.PI*l/n.length,d=265+265*Math.cos(c),f=265+265*Math.sin(c);return(0,r.jsxs)("button",{className:s()("XEPFpGrF",(o={},o.AxqO225N=l===t,o)),onClick:function(){return a(l)},style:{position:"absolute",left:"".concat(d,"px"),top:"".concat(f,"px"),transform:"translate(-50%, -50%) rotate(".concat(-i,"deg)")},children:[(0,r.jsx)("p",{className:s()("Q43vh7za"),children:e.id}),(0,r.jsx)("p",{className:s()("czc3nZf9"),children:e.label})]},e.id)}))}),(0,r.jsxs)("div",{className:s()("vaxgkjBg"),children:[(0,r.jsx)("p",{className:s()("WnQR_jJI"),ref:c,children:l}),(0,r.jsx)("p",{className:s()("cok5jllX"),ref:d,children:o})]})]})},N=n(880),I=function(e,t,n){var r={num:e};N.os.to(r,{num:t,duration:.3,ease:"power1.out",onUpdate:function(){n.current&&(n.current.textContent=Math.floor(r.num).toString())}})},C=function(e){var t=e.fetchThemes,n=e.fetchEvents,a=(0,i.useState)(0),l=a[0],o=a[1],c=(0,i.useState)(0),d=c[0],f=c[1],u=(0,i.useState)([]),h=u[0],m=u[1],p=(0,i.useState)([]),v=p[0],x=p[1],g=(0,i.useState)(null),b=g[0],N=g[1],C=(0,i.useState)(null),w=C[0],k=C[1],P=(0,i.useState)(null),S=P[0],D=P[1],R=(0,i.useRef)(null),L=(0,i.useRef)(null),E=h.length>0?360/h.length:360;(0,i.useEffect)((function(){t().then((function(e){m(e),e&&e.length>0&&(N(e[e.length-1].id),k(e[e.length-1].from),D(e[e.length-1].to),f(e.length-1),n({themeId:e[e.length-1].id,from:e[e.length-1].from,to:e[e.length-1].to}).then((function(e){x(e)})))}))}),[]);var A=function(e){if(h&&0!==h.length){var t=h[e],r=(E*e-30+l)%360;r<0&&(r+=360);var i=270-r;i>180?i-=360:i<-180&&(i+=360),o((function(e){return e+i})),f(e),N(t.id),I(w,t.from,R),I(S,t.to,L),k(t.from),D(t.to),x([]),n({themeId:t.id,from:t.from,to:t.to}).then((function(e){x(e)}))}},B=h.find((function(e){return e.id===b})),M=B?B.label:"";return(0,r.jsxs)("section",{className:s()("mHvqqAAi"),children:[(0,r.jsx)("div",{className:s()("pstIvCIa")}),(0,r.jsxs)("div",{className:s()("o6vCpGfN"),children:[(0,r.jsxs)("h2",{className:s()("xPX_Cn7J"),children:[" ","Исторические\nдаты"]}),(0,r.jsx)(y,{activeIndex:d,themesData:h,rotation:l,handleClickCircle:A,currentDateLeft:w,currentDateRight:S,dateLeftRef:R,dateRightRef:L}),(0,r.jsx)(O,{activeIndex:d,themesDataLength:h.length,handleClickPagination:function(e){if(h&&0!==h.length){var t=d+("prev"===e?-1:1);if(!(t<0||t>=h.length)){var r=h[t],i=(E*t-30+l)%360;i<0&&(i+=360);var a=270-i;a>180?a-=360:a<-180&&(a+=360),o((function(e){return e+a})),f(t),N(r.id),I(w,r.from,R),I(S,r.to,L),k(r.from),D(r.to),x([]),n({themeId:r.id,from:r.from,to:r.to}).then((function(e){x(e)}))}}},handleClickCircle:A}),(0,r.jsx)("div",{className:s()("A9OXjyma")}),(0,r.jsx)("div",{className:s()("wsyrz1fx")}),(0,r.jsxs)("div",{className:s()("upn26d1c"),children:[(0,r.jsx)("p",{className:"L8KTnPrD",children:M}),(0,r.jsx)(j,{eventsData:v})]})]})]})}}}]);